<!DOCTYPE html>
<html lang="en">
<head>
    <title>75percent.info</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#4285f4">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="top">
        <h1 class="heading">75percent.info</h1>
    </div>

    <div class="section section0">
        <form>
            <br>
            <h3>Enter your attendance</h3>
            <br>
            <div class="form-group">
                <label for="subjectName">Subject Name</label>
                <input type="text" required class="form-control" id="subjectName" aria-describedby="emailHelp" placeholder="Enter subject name">
            </div>
            <br>
            <div class="form-group">
                <label for="present">Present</label>
                <input type="number" min="0" class="form-control" id="present" aria-describedby="emailHelp" placeholder="Enter no. of classes attended">
            </div>
            <br>
            <div class="form-group">
                <label for="currentTotal">Current Total</label>
                <input type="number" min="1" class="form-control" id="currentTotal" aria-describedby="emailHelp" placeholder="Enter no. of classes as of today">
            </div>
            <br>
            <div class="form-group">
                <label for="netTotal">Total Classes</label>
                <input type="number" min="1" class="form-control" id="netTotal" aria-describedby="emailHelp" placeholder="Enter total scheduled classes">
            </div>
            <br>
        </form>  
        <button onclick="myFunction()" class="btn btn-primary calc">Calculate</button>
    </div>

    <script>
        function myFunction() {
            var sname = document.getElementById("subjectName").value;
            var present = eval(document.getElementById("present").value);
            var ctotal = eval(document.getElementById("currentTotal").value);
            var total = eval(document.getElementById("netTotal").value);

            console.log(sname, present, ctotal, total);

            if (sname == "" || present == undefined || ctotal == undefined || total == undefined) {
                alert("Field(s) incomplete!");
            }
            else if (Number.isInteger(present) == false || Number.isInteger(ctotal) == false || Number.isInteger(total) == false) {
                alert("Enter positive integers only!");
            }
            else if (present < 0 || ctotal < 1 || total < 1) {
                alert("Improper values!");
            }
            else {
                var absent = ctotal - present;
                var tmissable = Math.floor(0.25*total)
                alert("Absent: " + absent + "\nMissable: " + tmissable);
            }

        }
    </script>

</body>
</html>